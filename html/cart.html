<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>神庭医馆</title>
        <link type="image/x-icon" rel="shortcut icon" href="../images/logo.png">
        <link rel="stylesheet" href="../css/common.css">
        <link rel="stylesheet" href="../css/weui.min.css">
        <script src="../js/zepto.min.js"></script>
        <script src="../js/vue.min.js"></script>
        <script src="../js/index.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    </head>
    <body>
        <div class="header">
            购物车
            <span>
                <img src="../images/back_gery.png" alt="">
            </span>
        </div>
        <!-- <div class="weui-loadmore">
            <i class="weui-loading"></i>
            <span class="weui-loadmore__tips">正在加载</span>
        </div> -->
        <div class="cart" id="cart">
            <!-- 医馆信息及跳转 -->
            <div class="good_describe">
                <div class="weui-cell weui-cell_access my_store clearfix">
                    <div class="weui-cell__bd clearfix">
                        <div class="store_small_pic fl">
                            <img src="../images/getheadimg.png" alt="">
                        </div>
                        <p class="fl">神庭医馆</p>
                    </div>
                    <div class="fr edit">编辑</div>
                </div>
            </div>
            <!-- 商品展示 -->
            <div class="cart_container">
                <div class="each_row flex">
                    <div class="left_radio">
                        <label class="" for="s11">
                            <input type="checkbox" class="good_check"  id="s11">
                            <i class="icon-checked iconfont"></i>
                        </label>
                    </div>
                    <div class="weui-cell__bd flex-1">
                        <div class="thumb flex">
                            <img src="../images/b-(3).jpg" alt="">
                            <div class="flex-1">
                                <p class="good_name">神庭妇浴散</p>
                                <div class="clearfix">
                                    <p class="good_price fl">¥<span>49.01</span></p>
                                    <div class="fr">
                                        <div class="clearfix num_change">
                                            <div class="ope_1 iconfont fl icon-jian"></div>
                                            <div class="ope_num fl">1</div>
                                            <div class="ope_2 iconfont fl icon-jia"></div>
                                        </div>
                                        <div class="delete_btn dis-no">删除</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="each_row flex">
                    <div class="left_radio">
                        <label class="" for="s12">
                            <input type="checkbox" class="good_check"  id="s12">
                            <i class="icon-checked iconfont"></i>
                        </label>
                    </div>
                    <div class="weui-cell__bd flex-1">
                        <div class="thumb flex">
                            <img src="../images/b-(3).jpg" alt="">
                            <div class="flex-1">
                                <p class="good_name">神庭妇浴散</p>
                                <div class="clearfix">
                                    <p class="good_price fl">¥<span>49.01</span></p>
                                    <div class="fr">
                                        <div class="clearfix num_change">
                                            <div class="ope_1 iconfont fl icon-jian"></div>
                                            <div class="ope_num fl">1</div>
                                            <div class="ope_2 iconfont fl icon-jia"></div>
                                        </div>
                                        <div class="delete_btn dis-no">删除</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 底部操作 -->
            <div class="compute_btn flex">
                <div class="flex-1 clearfix">
                    <div class="fl">
                        <div class="weui-cells weui-cells_checkbox">
                            <label class="weui-cell weui-check__label" for="sa">
                                <div class="weui-cell__hd">
                                    <input type="checkbox" class="weui-check"  id="sa">
                                    <i class="weui-icon-checked"></i>
                                </div>
                                <div class="weui-cell__bd">
                                    <p>全选</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    <div class="fr tint">
                        <p>
                            合计：<span>¥45.00</span>
                        </p>
                        <p>不含运费</p>
                    </div>
                </div>
                <div class="btn">结算</div>
            </div>
        </div>
        <script>
            $(function(){
                // 编辑按钮
                $('.edit').live('click',function(){
                    var _content = $(this).html();
                    $('.weui-check').prop("checked",false);
                    if (_content == '编辑'){
                        $(this).html('完成');
                        $('.delete_btn').removeClass('dis-no');
                        $('.num_change').addClass('dis-no');
                    }else{
                        $(this).html('编辑');
                        $('.delete_btn').addClass('dis-no');
                        $('.num_change').removeClass('dis-no');
                    }
                })
                // 删除按钮
                $('.delete_btn').live('click',function(){
                    $(this).parents('.weui-cell.weui-check__label').remove();
                })

                // 全选
                $('.compute_btn .weui-cell.weui-check__label').live('click',function(){
                    var flag = $(this).find('.weui-check').is(':checked');
                    if(flag){
                        $(".cart_container input[type='checkbox']").prop("checked",true);
                    }else{
                        $(".cart_container input[type='checkbox']").prop("checked",false);
                    }
                })
                // 单选按钮
                $('.left_radio').live('click',function(){
                    var flag = $(this).find("input[type='checkbox']").is(':checked');
                    $(this).find("input[type='checkbox']").prop("checked",!flag);
                    var all_num = $(".cart_container input[type='checkbox']").length;
                    var ck_num = $(".cart_container input[type='checkbox']:checked").length;
                    if (all_num == ck_num) {
                        $('.compute_btn .weui-check').prop("checked",true);
                    }else{
                        $('.compute_btn .weui-check').prop("checked",false);
                    }
                })
            })
        
        </script>
    </body>
</html>
